URL: [https://assignment-4-api.uw.r.appspot.com/](https://assignment-4-api.uw.r.appspot.com/)

# API Specification

## Data Model

### Boats

| Property | Data Type | Notes |
| --- | --- | --- |
| id | Integer | The id of the boat. (auto generated by Datastore) |
| name | String | Name of the boat. |
| type | String | Type of the boat. E.g., Sailboat, Catamaran, etc. |
| length | Integer | The length of the boat in feet. |
| loads | List | List of current loads on the boat. |
| owner | String | The id of the boat owner. |

### Load

| Property | Data Type | Notes |
| --- | --- | --- |
| id | Integer | The id of the load. (auto generated by Datastore) |
| volume | Integer | The volume of the load |
| item | String | Description of the item in the load. |
| carrier | Integer (nullable) | The id of the boat to which the load belongs. If the load is not on any boat, this can be null. |
| creation_date | Date | Date the load was created. |

## Create a Boat

Allows you to create a new boat.

<aside>
ðŸ”— POST /boats

</aside>

**Request**

| Name | Description | Required? |
| --- | --- | --- |
| name | The name of the boat. | Yes |
| type | Type of the boat. E.g., Sailboat, Catamaran, etc. | Yes |
| length | Length of the boat in feet. | Yes |

**Request Body Example**

```json
{
    "name": "Sea Witch",
	  "type": "Catamaran",
    "length": 28
}
```

**Response**

Response Statuses

| Outcome | Status Code | Notes |
| --- | --- | --- |
| Success | 201 Created |  |
| Failure  | 400 Bad Request | If any of the required attributes are missing. |

Response Examples

`Success`

```json
Status: 201 Created
{
    "id": 5638358357245952,
    "name": "Sea Witch",
    "type": "Catamaran",
    "length": 28,
    "loads": [],
    "self": "https://assignment-4-api.uw.r.appspot.com/boats/5638358357245952"
}
```

`Failure`

```json
Status: 400 Bad Request
{
    "Error": "The request object is missing at least one of the required attributes"
}
```

## View a Boat

Allows you to get an existing boat.

<aside>
ðŸ”— GET /boats/:boat_id

</aside>

**Request**

`Path Parameters`

| Name | Description |
| --- | --- |
| boat_id | ID of the boat |

**Response**

| Outcome | Status Code | Notes |
| --- | --- | --- |
| Success | 200 OK |  |
| Failure  | 404 Not Found | No boat with this boat_id exists |

Response Examples

`Success`

```json
Status: 200 OK
{
    "name": "Sea Witch",
    "length": 28,
    "type": "Catamaran",
    "loads": [
        {
            "id": 6482783287377920,
            "self": "https://assignment-4-api.uw.r.appspot.com/loads/6482783287377920"
        }
    ],
    "id": 4790583889494016,
    "self": "https://assignment-4-api.uw.r.appspot.com/boats/4790583889494016"
}
```

`Failure`

```json
Status: 404 Not Found
{
    "Error": "No boat with this boat_id exists"
}
```

## View all Boats

List all the boats.

<aside>
ðŸ”— GET /boats?cursor=:cursor

</aside>

**Request**

`Query Parameters`  - optional

| Name | Description |
| --- | --- |
| cursor | Cursor for pagination. |

**Response**

Response Statuses

| Outcome | Status Code | Notes |
| --- | --- | --- |
| Success | 200 OK |  |

Response Examples

`Success`

```json
Status: 200 OK
{
    "boats": [
        {
            "name": "Sea Witch",
            "length": 28,
            "type": "Catamaran",
            "id": 4649438983225344,
            "loads": [
                {
                    "id": 5913974059040768,
                    "self": "https://assignment-4-api.uw.r.appspot.com/loads/5913974059040768"
                }
            ],
            "self": "https://assignment-4-api.uw.r.appspot.com/boats/4649438983225344"
        },
        {
            "name": "Sea Witch",
            "length": 28,
            "type": "Catamaran",
            "id": 4790583889494016,
            "loads": [
                {
                    "id": 6482783287377920,
                    "self": "https://assignment-4-api.uw.r.appspot.com/loads/6482783287377920"
                }
            ],
            "self": "https://assignment-4-api.uw.r.appspot.com/boats/4790583889494016"
        },
        {
            "name": "Sea Witch",
            "length": 28,
            "type": "Catamaran",
            "id": 4793051281096704,
            "loads": [],
            "self": "https://assignment-4-api.uw.r.appspot.com/boats/4793051281096704"
        }
    ],
    "next": "https://assignment-4-api.uw.r.appspot.com/boats?cursor=Ci8SKWoUenV3fmFzc2lnbm1lbnQtNC1hcGlyEQsSBEJvYXQYgICAuJPowQgMGAAgAA=="
}
```

## Delete a Boat

Allows you to delete a boat. Note that this will unload any loads that were loaded on to the boat but will not delete them.

<aside>
ðŸ”— DELETE /boats/:boat_id

</aside>

**Request**

`Path Parameters`

| Name | Description |
| --- | --- |
| boat_id | ID of the boat |

**Response**

Response Statuses

| Outcome | Status Code | Notes |
| --- | --- | --- |
| Success | 204 No Content |  |
| Failure  | 404 Not Found | No boat with this boat_id exists |

Response Examples

`Success`

```json
Status: 204 No Content
```

`Failure`

```json
Status: 404 Not Found
{
    "Error": "No boat with this boat_id exists"
}
```

## Create a Load

Allows you to create a new load.

<aside>
ðŸ”— POST /loads

</aside>

**Request**

| Name | Description | Required? |
| --- | --- | --- |
| volume | The volume of the load. | Yes |
| item | Item in the load. | Yes |
| creation_date | The date mm/dd/yyy the load was created. | Yes |

**Request Body Example**

```json
{
  "volume": 3,
  "item": "Food",
  "creation_date": "10/19/2021"
}
```

**Response**

`Response Body Format`

JSON

Response Statuses

| Outcome | Status Code | Notes |
| --- | --- | --- |
| Success | 201 Created |  |
| Failure  | 400 Bad Request | If any of the required attributes are missing. |

Response Examples

`Success`

```json
Status: 201 Created
{
    "id": 4872136191639552,
    "volume": 5,
    "item": "LEGO Blocks",
    "carrier": null,
    "creation_date": "10/18/2021",
    "self": "https://assignment-4-api.uw.r.appspot.com/loads/4872136191639552"
}
```

`Failure`

```json
Status: 400 Bad Request
{
    "Error": "The request object is missing at least one of the required attributes"
}
```

## View a Load

Allows you to get an existing load.

<aside>
ðŸ”— GET /loads/:load_id

</aside>

**Request**

`Path Parameters`

| Name | Description |
| --- | --- |
| load_id | ID of the load |

**Response**

Response Statuses

| Outcome | Status Code | Notes |
| --- | --- | --- |
| Success | 200 OK |  |
| Failure  | 404 Not Found | No load with this load_id exists |

Response Examples

`Success`

```json
Status: 200 OK
{
    "volume": 5,
    "item": "LEGO Blocks",
    "carrier": {
        "id": 5083538508480512,
        "name": "Sea Witch",
        "self": "https://assignment-4-api.uw.r.appspot.com/boats/5083538508480512"
    },
    "creation_date": "10/18/2021",
    "id": 6192604894986240,
    "self": "https://assignment-4-api.uw.r.appspot.com/loads/6192604894986240"
}
```

`Failure`

```json
Status: 404 Not Found
{
    "Error": "No load with this load_id exists"
}
```

## View all Loads

List all the loads.

<aside>
ðŸ”— GET /loads?cursor=:cursor

</aside>

**Request**

`Query Parameters`  - optional

| Name | Description |
| --- | --- |
| cursor | Cursor for pagination. |

**Response**

Response Statuses

| Outcome | Status Code | Notes |
| --- | --- | --- |
| Success | 200 OK |  |

Response Examples

`Success`

```json
Status: 200 OK
{
    "loads": [
        {
            "volume": 10,
            "item": "Stuffed Animals",
            "carrier": {
                "id": 5421418888036352,
                "name": "Lucifer",
                "self": "https://assignment-4-api.uw.r.appspot.com/boats/5421418888036352"
            },
            "creation_date": "10/19/2021",
            "id": 4648999252393984,
            "self": "https://assignment-4-api.uw.r.appspot.com/loads/4648999252393984"
        },
        {
            "volume": 4,
            "item": "Toys",
            "carrier": {
                "id": 6207473266458624,
                "name": "Lucifer",
                "self": "https://assignment-4-api.uw.r.appspot.com/boats/6207473266458624"
            },
            "creation_date": "10/21/2021",
            "id": 4688579959717888,
            "self": "https://assignment-4-api.uw.r.appspot.com/loads/4688579959717888"
        },
        {
            "volume": 5,
            "item": "LEGO Blocks",
            "carrier": null,
            "creation_date": "10/18/2021",
            "id": 4872136191639552,
            "self": "https://assignment-4-api.uw.r.appspot.com/loads/4872136191639552"
        }
    ],
    "next": "https://assignment-4-api.uw.r.appspot.com/loads?cursor=Ci8SKWoUenV3fmFzc2lnbm1lbnQtNC1hcGlyEQsSBExvYWQYgICA2Onl0wgMGAAgAA=="
}
```

## Delete a Load

Allows you to delete a load. Note that this will unload the load if it was being carried.

<aside>
ðŸ”— DELETE /loads/:load_id

</aside>

**Request**

`Path Parameters`

| Name | Description |
| --- | --- |
| load_id | ID of the load |

**Response**

Response Statuses

| Outcome | Status Code | Notes |
| --- | --- | --- |
| Success | 204 No Content |  |
| Failure  | 404 Not Found | No load with this load_id exists |

Response Examples

`Success`

```json
Status: 204 No Content
```

`Failure`

```json
Status: 404 Not Found
{
    "Error": "No load with this load_id exists"
}
```

## Assign Load to a Boat

Allows you to assign a load to a boat.

<aside>
ðŸ”— PUT boats/:boat_id/loads/:load_id

</aside>

**Request**

`Path Parameters`

| Name | Description |
| --- | --- |
| boat_id | ID of the boat |
| load_id | ID of the load |

**Response**

Response Statuses

| Outcome | Status Code | Notes |
| --- | --- | --- |
| Success | 204 No Content | Succeeds only if the load isn't assigned to a boat. |
| Failure  | 403 Forbidden | The load is already loaded on another boat |
| Failure  | 404 Not Found | The specified boat and/or load does not exist |

Response Examples

`Success`

```json
Status: 204 No Content
```

`Failure`

```json
Status: 403 Forbidden
{
    "Error": "The load is already loaded on another boat"
}
```

`Failure`

```json
Status: 404 Not Found
{
    "Error": "The specified boat and/or load does not exist"
}
```

## Remove Load from a Boat

Allows you to remove a load from a boat.

<aside>
ðŸ”— DELETE boats/:boat_id/loads/:load_id

</aside>

**Request**

`Path Parameters`

| Name | Description |
| --- | --- |
| boat_id | ID of the boat |
| load_id | ID of the load |

**Response**

Response Statuses

| Outcome | Status Code | Notes |
| --- | --- | --- |
| Success | 204 No Content | Succeeds only if the load is assigned to this boat. |
| Failure  | 403 Forbidden | The load is already loaded on another boat |
| Failure  | 404 Not Found | The specified boat and/or load does not exist |

Response Examples

`Success`

```json
Status: 204 No Content
```

`Failure`

```json
Status: 403 Forbidden
{
    "Error": "The load is already loaded on another boat"
}
```

`Failure`

```json
Status: 404 Not Found
{
    "Error": "No boat with this boat_id is loaded with the load with this load_id"
}
```